<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Class MatthiasMullie\Minify\Minify</title>

	<link rel="stylesheet" href="resources/style.css?e99947befd7bf673c6b43ff75e9e0f170c88a60e">

</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview"><span>Overview</span></a>


		<div id="groups">
				<h3>Namespaces</h3>
			<ul>
				<li class="active">
					<a href="namespace-MatthiasMullie.html">
						MatthiasMullie<span></span>
					</a>

						<ul>
				<li class="active">
					<a href="namespace-MatthiasMullie.Minify.html">
						Minify<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-MatthiasMullie.Minify.Exceptions.html">
						Exceptions					</a>

						</li>
							</ul></li></ul></li>
				<li>
					<a href="namespace-None.html">
						None					</a>

						</li>
			</ul>
		</div>

		<hr>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-MatthiasMullie.Minify.CSS.html">CSS</a></li>
				<li><a href="class-MatthiasMullie.Minify.JS.html">JS</a></li>
				<li class="active"><a href="class-MatthiasMullie.Minify.Minify.html">Minify</a></li>
			</ul>



			<h3>Exceptions</h3>
			<ul>
				<li><a href="class-MatthiasMullie.Minify.Exception.html" class="deprecated">Exception</a></li>
			</ul>


		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">
	<form id="search">
		<input type="hidden" name="cx" value="">
		<input type="hidden" name="ie" value="UTF-8">
		<input type="text" name="q" class="text" placeholder="Search">
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="namespace-MatthiasMullie.Minify.html" title="Summary of MatthiasMullie\Minify"><span>Namespace</span></a>
			</li>
			<li class="active">
<span>Class</span>			</li>
		</ul>
		<ul>
		</ul>
		<ul>
		</ul>
	</div>

<div id="content" class="class">
	<h1>Class Minify</h1>


	<div class="description">
	<p>Abstract minifier class.</p>

<p>Please report bugs on https://github.com/matthiasmullie/minify/issues</p>
	</div>



	<div>
		<h4>Direct known subclasses</h4>
			<a href="class-MatthiasMullie.Minify.CSS.html">MatthiasMullie\Minify\CSS</a>, 
			<a href="class-MatthiasMullie.Minify.JS.html">MatthiasMullie\Minify\JS</a>
	</div>






	<div class="info">
		<b>Abstract</b><br>
		
		<b>Namespace:</b> <a href="namespace-MatthiasMullie.html">MatthiasMullie</a>\<a href="namespace-MatthiasMullie.Minify.html">Minify</a><br>
		

				<b>Copyright:</b>
				Copyright (c) 2012, Matthias Mullie. All rights reserved.<br>
				<b>License:</b>
				<a href="MIT">License</a><br>
				<b>Author:</b>
				Matthias Mullie <a href="&#x6d;&#97;&#x69;&#108;&#x74;&#x6f;&#58;&#x6d;&#105;&#x6e;&#x69;&#102;&#x79;&#64;&#x6d;&#x75;&#108;&#x6c;&#105;&#x65;&#x2e;&#101;&#x75;">&#x6d;&#105;&#x6e;&#x69;&#102;&#x79;&#64;&#x6d;&#x75;&#108;&#x6c;&#105;&#x65;&#x2e;&#101;&#x75;</a><br>
			<b>Located at</b> <a href="source-class-MatthiasMullie.Minify.Minify.html#8-421" title="Go to source code">src/Minify.php</a>
		<br>
	</div>



	<table class="summary methods" id="methods">
	<caption>Methods summary</caption>
	<tr data-order="__construct" id="___construct">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#___construct">#</a>
		<code><a href="source-class-MatthiasMullie.Minify.Minify.html#42-51" title="Go to source code">__construct</a>( )</code>

		<div class="description short">
			<p>Init the minify class - optionally, code may be passed along already.</p>
		</div>

		<div class="description detailed hidden">
			<p>Init the minify class - optionally, code may be passed along already.</p>







		</div>
		</div></td>
	</tr>
	<tr data-order="add" id="_add">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_add">#</a>
		<code><a href="source-class-MatthiasMullie.Minify.Minify.html#53-78" title="Go to source code">add</a>( <span>string <var>$data</var></span> )</code>

		<div class="description short">
			<p>Add a file or straight-up code to be minified.</p>
		</div>

		<div class="description detailed hidden">
			<p>Add a file or straight-up code to be minified.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$data</var></dt>
					<dd></dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	<tr data-order="minify" id="_minify">

		<td class="attributes"><code>
			 public 

			string
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_minify">#</a>
		<code><a href="source-class-MatthiasMullie.Minify.Minify.html#80-97" title="Go to source code">minify</a>( <span>string[optional] <var>$path</var> = <span class="php-keyword1">null</span></span> )</code>

		<div class="description short">
			<p>Minify the data &amp; (optionally) saves it to a file.</p>
		</div>

		<div class="description detailed hidden">
			<p>Minify the data &amp; (optionally) saves it to a file.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$path</var></dt>
					<dd>Path to write the data to.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					string<br>The minified data.
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="gzip" id="_gzip">

		<td class="attributes"><code>
			 public 

			string
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_gzip">#</a>
		<code><a href="source-class-MatthiasMullie.Minify.Minify.html#99-118" title="Go to source code">gzip</a>( <span>string[optional] <var>$path</var> = <span class="php-keyword1">null</span></span>, <span>int[optional] <var>$level</var> = <span class="php-num">9</span></span> )</code>

		<div class="description short">
			<p>Minify &amp; gzip the data &amp; (optionally) saves it to a file.</p>
		</div>

		<div class="description detailed hidden">
			<p>Minify &amp; gzip the data &amp; (optionally) saves it to a file.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$path</var></dt>
					<dd>Path to write the data to.</dd>
					<dt><var>$level</var></dt>
					<dd>Compression level, from 0 to 9.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					string<br>The minified &amp; gzipped data.
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="cache" id="_cache">

		<td class="attributes"><code>
			 public 

			Psr\Cache\CacheItemInterface
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_cache">#</a>
		<code><a href="source-class-MatthiasMullie.Minify.Minify.html#120-133" title="Go to source code">cache</a>( <span>Psr\Cache\CacheItemInterface <var>$item</var></span> )</code>

		<div class="description short">
			<p>Minify the data &amp; write it to a CacheItemInterface object.</p>
		</div>

		<div class="description detailed hidden">
			<p>Minify the data &amp; write it to a CacheItemInterface object.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$item</var></dt>
					<dd>Cache item to write the data to.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					Psr\Cache\CacheItemInterface<br>Cache item with the minifier data.
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="execute" id="_execute">

		<td class="attributes"><code>
			abstract public 

			string
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_execute">#</a>
		<code><a href="source-class-MatthiasMullie.Minify.Minify.html#135-142" title="Go to source code">execute</a>( <span>string[optional] <var>$path</var> = <span class="php-keyword1">null</span></span> )</code>

		<div class="description short">
			<p>Minify the data.</p>
		</div>

		<div class="description detailed hidden">
			<p>Minify the data.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$path</var></dt>
					<dd>Path to write the data to.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					string<br>The minified data.
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="load" id="_load">

		<td class="attributes"><code>
			 protected 

			string
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_load">#</a>
		<code><a href="source-class-MatthiasMullie.Minify.Minify.html#144-164" title="Go to source code">load</a>( <span>string <var>$data</var></span> )</code>

		<div class="description short">
			<p>Load data.</p>
		</div>

		<div class="description detailed hidden">
			<p>Load data.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$data</var></dt>
					<dd>Either a path to a file or the content itself.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					string
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="save" id="_save">

		<td class="attributes"><code>
			 protected 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_save">#</a>
		<code><a href="source-class-MatthiasMullie.Minify.Minify.html#166-181" title="Go to source code">save</a>( <span>string <var>$content</var></span>, <span>string <var>$path</var></span> )</code>

		<div class="description short">
			<p>Save to file.</p>
		</div>

		<div class="description detailed hidden">
			<p>Save to file.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$content</var></dt>
					<dd>The minified data.</dd>
					<dt><var>$path</var></dt>
					<dd>The path to save the minified data to.</dd>
				</dl></div>


				<h4>Throws</h4>
				<div class="list">
					<code><a href="class-MatthiasMullie.Minify.Exceptions.IOException.html">MatthiasMullie\Minify\Exceptions\IOException</a></code>
				</div>



		</div>
		</div></td>
	</tr>
	<tr data-order="registerPattern" id="_registerPattern">

		<td class="attributes"><code>
			 protected 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_registerPattern">#</a>
		<code><a href="source-class-MatthiasMullie.Minify.Minify.html#183-195" title="Go to source code">registerPattern</a>( <span>string <var>$pattern</var></span>, <span>string|callable <var>$replacement</var> = <span class="php-quote">''</span></span> )</code>

		<div class="description short">
			<p>Register a pattern to execute against the source content.</p>
		</div>

		<div class="description detailed hidden">
			<p>Register a pattern to execute against the source content.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$pattern</var></dt>
					<dd>PCRE pattern.</dd>
					<dt><var>$replacement</var></dt>
					<dd>Replacement value for matched pattern.</dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	<tr data-order="replace" id="_replace">

		<td class="attributes"><code>
			 protected 

			string
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_replace">#</a>
		<code><a href="source-class-MatthiasMullie.Minify.Minify.html#197-279" title="Go to source code">replace</a>( <span>string <var>$content</var></span> )</code>

		<div class="description short">
			<p>We can't "just" run some regular expressions against JavaScript: it's a
complex language. E.g. having an occurrence of // xyz would be a comment,
unless it's used within a string. Of you could have something that looks
like a 'string', but inside a comment.
The only way to accurately replace these pieces is to traverse the JS one
character at a time and try to find whatever starts first.</p>
		</div>

		<div class="description detailed hidden">
			<p>We can't "just" run some regular expressions against JavaScript: it's a
complex language. E.g. having an occurrence of // xyz would be a comment,
unless it's used within a string. Of you could have something that looks
like a 'string', but inside a comment.
The only way to accurately replace these pieces is to traverse the JS one
character at a time and try to find whatever starts first.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$content</var></dt>
					<dd>The content to replace patterns in.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					string<br>The (manipulated) content.
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="replacePattern" id="_replacePattern">

		<td class="attributes"><code>
			 protected 

			string
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_replacePattern">#</a>
		<code><a href="source-class-MatthiasMullie.Minify.Minify.html#281-300" title="Go to source code">replacePattern</a>( <span>string <var>$pattern</var></span>, <span>string|callable <var>$replacement</var></span>, <span>string <var>$content</var></span> )</code>

		<div class="description short">
			<p>This is where a pattern is matched against $content and the matches
are replaced by their respective value.
This function will be called plenty of times, where $content will always
move up 1 character.</p>
		</div>

		<div class="description detailed hidden">
			<p>This is where a pattern is matched against $content and the matches
are replaced by their respective value.
This function will be called plenty of times, where $content will always
move up 1 character.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$pattern</var></dt>
					<dd>Pattern to match.</dd>
					<dt><var>$replacement</var></dt>
					<dd>Replacement value.</dd>
					<dt><var>$content</var></dt>
					<dd>Content to match pattern against.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					string
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="extractStrings" id="_extractStrings">

		<td class="attributes"><code>
			 protected 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_extractStrings">#</a>
		<code><a href="source-class-MatthiasMullie.Minify.Minify.html#302-351" title="Go to source code">extractStrings</a>( <span>string[optional] <var>$chars</var> = <span class="php-quote">'\'&quot;'</span></span> )</code>

		<div class="description short">
			<p>Strings are a pattern we need to match, in order to ignore potential
code-like content inside them, but we just want all of the string
content to remain untouched.</p>
		</div>

		<div class="description detailed hidden">
			<p>Strings are a pattern we need to match, in order to ignore potential
code-like content inside them, but we just want all of the string
content to remain untouched.</p>

<p>This method will replace all string content with simple STRING#
placeholder text, so we've rid all strings from characters that may be
misinterpreted. Original string content will be saved in $this->extracted
and after doing all other minifying, we can restore the original content
via restoreStrings().</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$chars</var></dt>
					<dd></dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	<tr data-order="restoreExtractedData" id="_restoreExtractedData">

		<td class="attributes"><code>
			 protected 

			string
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_restoreExtractedData">#</a>
		<code><a href="source-class-MatthiasMullie.Minify.Minify.html#353-374" title="Go to source code">restoreExtractedData</a>( <span>string <var>$content</var></span> )</code>

		<div class="description short">
			<p>This method will restore all extracted data (strings, regexes) that were
replaced with placeholder text in extract*(). The original content was
saved in $this->extracted.</p>
		</div>

		<div class="description detailed hidden">
			<p>This method will restore all extracted data (strings, regexes) that were
replaced with placeholder text in extract*(). The original content was
saved in $this->extracted.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$content</var></dt>
					<dd></dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					string
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="canImportFile" id="_canImportFile">

		<td class="attributes"><code>
			 protected 

			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_canImportFile">#</a>
		<code><a href="source-class-MatthiasMullie.Minify.Minify.html#376-386" title="Go to source code">canImportFile</a>( <span>string <var>$path</var></span> )</code>

		<div class="description short">
			<p>Check if the path is a regular file and can be read.</p>
		</div>

		<div class="description detailed hidden">
			<p>Check if the path is a regular file and can be read.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$path</var></dt>
					<dd></dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					boolean
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="openFileForWriting" id="_openFileForWriting">

		<td class="attributes"><code>
			 protected 

			resource
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_openFileForWriting">#</a>
		<code><a href="source-class-MatthiasMullie.Minify.Minify.html#388-404" title="Go to source code">openFileForWriting</a>( <span>string <var>$path</var></span> )</code>

		<div class="description short">
			<p>Attempts to open file specified by $path for writing.</p>
		</div>

		<div class="description detailed hidden">
			<p>Attempts to open file specified by $path for writing.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$path</var></dt>
					<dd>The path to the file.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					resource<br>Specifier for the target file.
				</div>

				<h4>Throws</h4>
				<div class="list">
					<code><a href="class-MatthiasMullie.Minify.Exceptions.IOException.html">MatthiasMullie\Minify\Exceptions\IOException</a></code>
				</div>



		</div>
		</div></td>
	</tr>
	<tr data-order="writeToFile" id="_writeToFile">

		<td class="attributes"><code>
			 protected 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_writeToFile">#</a>
		<code><a href="source-class-MatthiasMullie.Minify.Minify.html#406-420" title="Go to source code">writeToFile</a>( <span>resource <var>$handler</var></span>, <span>string <var>$content</var></span>, <span>string <var>$path</var> = <span class="php-quote">''</span></span> )</code>

		<div class="description short">
			<p>Attempts to write $content to the file specified by $handler. $path is used for printing exceptions.</p>
		</div>

		<div class="description detailed hidden">
			<p>Attempts to write $content to the file specified by $handler. $path is used for printing exceptions.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$handler</var></dt>
					<dd>The resource to write to.</dd>
					<dt><var>$content</var></dt>
					<dd>The content to write.</dd>
					<dt><var>$path</var></dt>
					<dd>The path to the file (for exception printing only).</dd>
				</dl></div>


				<h4>Throws</h4>
				<div class="list">
					<code><a href="class-MatthiasMullie.Minify.Exceptions.IOException.html">MatthiasMullie\Minify\Exceptions\IOException</a></code>
				</div>



		</div>
		</div></td>
	</tr>
	</table>












	<table class="summary properties" id="properties">
	<caption>Properties summary</caption>
	<tr data-order="data" id="$data">
		<td class="attributes"><code>
			protected  
			string[]
		</code></td>

		<td class="name">
				<a href="source-class-MatthiasMullie.Minify.Minify.html#19-24" title="Go to source code"><var>$data</var></a>

			<div class="description short">
				<p>The data to be minified.</p>
			</div>

			<div class="description detailed hidden">
				<p>The data to be minified.</p>

			</div>
		</td>
		<td class="value">
			<div>
				<a href="#$data" class="anchor">#</a>
				<code><span class="php-keyword1">array</span>()</code>
			</div>
		</td>
	</tr>
	<tr data-order="patterns" id="$patterns">
		<td class="attributes"><code>
			protected  
			string[]
		</code></td>

		<td class="name">
				<a href="source-class-MatthiasMullie.Minify.Minify.html#26-31" title="Go to source code"><var>$patterns</var></a>

			<div class="description short">
				<p>Array of patterns to match.</p>
			</div>

			<div class="description detailed hidden">
				<p>Array of patterns to match.</p>

			</div>
		</td>
		<td class="value">
			<div>
				<a href="#$patterns" class="anchor">#</a>
				<code><span class="php-keyword1">array</span>()</code>
			</div>
		</td>
	</tr>
	<tr data-order="extracted" id="$extracted">
		<td class="attributes"><code>
			public  
			string[]
		</code></td>

		<td class="name">
				<a href="source-class-MatthiasMullie.Minify.Minify.html#33-40" title="Go to source code"><var>$extracted</var></a>

			<div class="description short">
				<p>This array will hold content of strings and regular expressions that have
been extracted from the JS source code, so we can reliably match "code",
without having to worry about potential "code-like" characters inside.</p>
			</div>

			<div class="description detailed hidden">
				<p>This array will hold content of strings and regular expressions that have
been extracted from the JS source code, so we can reliably match "code",
without having to worry about potential "code-like" characters inside.</p>

			</div>
		</td>
		<td class="value">
			<div>
				<a href="#$extracted" class="anchor">#</a>
				<code><span class="php-keyword1">array</span>()</code>
			</div>
		</td>
	</tr>
	</table>






</div>

	<div id="footer">
		 API documentation generated by <a href="http://apigen.org">ApiGen</a>
	</div>
</div>
</div>
<script src="resources/combined.js"></script>
<script src="elementlist.js"></script>
</body>
</html>
